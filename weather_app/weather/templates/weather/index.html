<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Погода</title>
    
    {% load bootstrap5 %}
    {% bootstrap_css %}
    {% bootstrap_javascript %}
    
    {% load static %}
    <link rel="shortcut icon" type="image/png" href="{% static 'weather/images/favicon.png' %}" >

    <link rel="stylesheet" href="{% static 'weather/css/style.css' %}">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>
<body class="mx-5">
    <h1 class="mt-5"><i class="bi bi-cloud-sun"></i> Узнайте погоду в своём городе</h1>
    <form method="post" class="mt-4">
        <div class="my-1">
            {% csrf_token %}
            {{ form.city }}
            <div id="suggestions" class="form-select no-arrow autocomplete-list"></div>
            <button id="searchButton" class="btn btn-primary mt-2" type="submit">Получить прогноз</button>
        </div>
    </form>

    {% if error %}
        <p class="alert alert-danger mt-4">{{ error }}</p>
    {% endif %}

    {% if city %}
        <p class="fs-2">Погода в городе: {{ city }}</p>
    {% endif %}

    {% if weather_plots %}
        <p>{{ weather_plots | safe }}</p>
    {% endif %}


    <script src="{% static 'weather/js/autocomplete.js' %}"></script>  
</body>
</html>